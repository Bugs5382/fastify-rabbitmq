<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Fastify RabbitMQ - v3.0.0</title><meta name="description" content="Documentation for Fastify RabbitMQ"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><style>
				.tsd-ext-version-select .settings-label {
					margin: 0.75rem 0.75rem 0 0;
			</style></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">Fastify RabbitMQ - v3.0.0</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>Fastify RabbitMQ - v3.0.0</h1></div><div class="tsd-panel tsd-typography"><a id="md:fastify-rabbitmq" class="tsd-anchor"></a><h1 class="tsd-anchor-link">Fastify RabbitMQ<a href="#md:fastify-rabbitmq" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><p>A Fastify RabbitMQ Plugin Developed in Pure TypeScript.
It uses the <a href="https://github.com/cody-greene/node-rabbitmq-client/" target="_blank" class="external">node-rabbitmq-client</a> plugin as a wrapper.</p>
<p>The build exports this to valid ESM and CJS for ease of cross-compatibility.</p>
<p>If you are using this NPM package, please consider giving it a :star: star.
This will increase its visibility and solicit more contribution from the outside.</p>
<a id="md:table-of-contents" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Table of Contents<a href="#md:table-of-contents" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ol>
<li><a href="#md:install">Install</a></li>
<li><a href="#md:basic-usage">Basic Usage</a></li>
<li><a href="#md:full-documentation">Full Documentation</a>
<ol>
<li><a href="#md:options">Options</a></li>
</ol>
</li>
<li><a href="#md:acknowledgements">Acknowledgements</a></li>
<li><a href="#md:license">License</a></li>
</ol>
<a id="md:install" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Install<a href="#md:install" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-0">install</span><span class="hl-1"> </span><span class="hl-0">fastify</span><span class="hl-1">-</span><span class="hl-0">rabbitmq</span>
</code><button>Copy</button></pre>

<a id="md:basic-usage" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Basic Usage<a href="#md:basic-usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Register this as a plugin.
Make sure it is loaded before any <strong><em>routes</em></strong> are loaded.</p>
<a id="md:quick-setup-on-the-server-side" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Quick Setup on the Server Side<a href="#md:quick-setup-on-the-server-side" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-2">default</span><span class="hl-1"> </span><span class="hl-3">fp</span><span class="hl-1">&lt;</span><span class="hl-4">FastifyRabbitMQOptions</span><span class="hl-1">&gt;((</span><span class="hl-0">fastify</span><span class="hl-1">, </span><span class="hl-0">options</span><span class="hl-1">, </span><span class="hl-0">done</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">void</span><span class="hl-1"> </span><span class="hl-0">fastify</span><span class="hl-1">.</span><span class="hl-3">register</span><span class="hl-1">(</span><span class="hl-0">fastifyRabbit</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-0">connection:</span><span class="hl-1"> </span><span class="hl-6">`amqp://guest:guest@localhost`</span><span class="hl-1">,</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-5">void</span><span class="hl-1"> </span><span class="hl-0">fastify</span><span class="hl-1">.</span><span class="hl-3">ready</span><span class="hl-1">().</span><span class="hl-3">then</span><span class="hl-1">(</span><span class="hl-5">async</span><span class="hl-1"> () </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-7">consumer</span><span class="hl-1"> = </span><span class="hl-0">fastify</span><span class="hl-1">.</span><span class="hl-0">rabbitmq</span><span class="hl-1">.</span><span class="hl-3">createConsumer</span><span class="hl-1">(</span><br/><span class="hl-1">      {</span><br/><span class="hl-1">        </span><span class="hl-0">queue:</span><span class="hl-1"> </span><span class="hl-6">&quot;foo&quot;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-0">queueOptions:</span><span class="hl-1"> { </span><span class="hl-0">durable:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1"> },</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">      </span><span class="hl-5">async</span><span class="hl-1"> (</span><span class="hl-0">msg</span><span class="hl-1">: </span><span class="hl-4">any</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-0">msg</span><span class="hl-1">); </span><span class="hl-8">// ==&gt; bar</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<a id="md:quick-setup-on-the-client-side" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Quick Setup on the Client Side<a href="#md:quick-setup-on-the-client-side" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Within any &quot;endpoint&quot; function, or if you have access to <code>fastify.rabbitmq</code> you can then call:</p>
<pre><code class="js"><span class="hl-0">fastify</span><span class="hl-1">.</span><span class="hl-3">get</span><span class="hl-1">(</span><span class="hl-6">&quot;/rabbitmq&quot;</span><span class="hl-1">, </span><span class="hl-5">async</span><span class="hl-1"> (</span><span class="hl-0">request</span><span class="hl-1">, </span><span class="hl-0">reply</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">let</span><span class="hl-1"> </span><span class="hl-0">pub</span><span class="hl-1"> = </span><span class="hl-0">request</span><span class="hl-1">.</span><span class="hl-0">rabbitmq</span><span class="hl-1">.</span><span class="hl-3">createPublisher</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-0">confirm:</span><span class="hl-1"> </span><span class="hl-5">true</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-0">maxAttempts:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">,</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-2">await</span><span class="hl-1"> </span><span class="hl-0">pub</span><span class="hl-1">.</span><span class="hl-3">send</span><span class="hl-1">(</span><span class="hl-6">&quot;foo&quot;</span><span class="hl-1">, </span><span class="hl-6">&quot;bar&quot;</span><span class="hl-1">); </span><span class="hl-8">// ==&gt; sent to foo queue</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

<p>Sending the string <code>bar</code> to the queue called <code>foo</code>.</p>
<a id="md:full-documentation" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Full Documentation<a href="#md:full-documentation" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><a id="md:options" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Options<a href="#md:options" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-2">export</span><span class="hl-1"> </span><span class="hl-5">interface</span><span class="hl-1"> </span><span class="hl-4">FastifyRabbitMQOptions</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-8">/** Connection String or object pointing to the RabbitMQ Broker Services */</span><br/><span class="hl-1">  </span><span class="hl-0">connection</span><span class="hl-1">: </span><span class="hl-4">string</span><span class="hl-1"> | </span><span class="hl-4">ConnectionOptions</span><span class="hl-1">;</span><br/><span class="hl-1">  </span><span class="hl-8">/** To set the custom nNamespace within this plugin instance. Used to register this plugin more than one time. */</span><br/><span class="hl-1">  </span><span class="hl-0">namespace</span><span class="hl-1">?: </span><span class="hl-4">string</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<a id="md:fastifyrabbitmqoptions" class="tsd-anchor"></a><h4 class="tsd-anchor-link">FastifyRabbitMQOptions<a href="#md:fastifyrabbitmqoptions" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><a id="md:connection" class="tsd-anchor"></a><h5 class="tsd-anchor-link"><code>connection</code><a href="#md:connection" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h5><p>Connection String or object pointing to the RabbitMQ Broker Services.
This can be an object of <code>ConnectionOptions</code> from the <code>node-rabbitmq-client</code> plugin options.</p>
<a id="md:namespace" class="tsd-anchor"></a><h5 class="tsd-anchor-link"><code>namespace</code><a href="#md:namespace" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h5><p>If you need more than one &quot;connection&quot; to a different set and/or array of RabbitMQ servers,
either on network or cloud, each registration of the plugin needs it to be in its own namespace.
If the name space is duplicated, it will fail to load.</p>
<a id="md:acknowledgements" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Acknowledgements<a href="#md:acknowledgements" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><a href="https://www.npmjs.com/package/rabbitmq-client" target="_blank" class="external">node-rabbitmq-client</a></li>
<li><a href="https://fastify.dev/" target="_blank" class="external">fastify</a></li>
<li>... and my Wife and Baby Girl.</li>
</ul>
<a id="md:license" class="tsd-anchor"></a><h2 class="tsd-anchor-link">License<a href="#md:license" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Licensed under <a href="media/LICENSE">MIT</a>.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-ext-version-select"><label class="settings-label" for="plugin-versions-select">Version</label><select id="plugin-versions-select" name="versions"></select></div><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:fastify-rabbitmq"><span>Fastify <wbr/>RabbitMQ</span></a><ul><li><a href="#md:table-of-contents"><span>Table of <wbr/>Contents</span></a></li><li><a href="#md:install"><span>Install</span></a></li><li><a href="#md:basic-usage"><span>Basic <wbr/>Usage</span></a></li><li><ul><li><a href="#md:quick-setup-on-the-server-side"><span>Quick <wbr/>Setup on the <wbr/>Server <wbr/>Side</span></a></li><li><a href="#md:quick-setup-on-the-client-side"><span>Quick <wbr/>Setup on the <wbr/>Client <wbr/>Side</span></a></li></ul></li><li><a href="#md:full-documentation"><span>Full <wbr/>Documentation</span></a></li><li><ul><li><a href="#md:options"><span>Options</span></a></li><li><ul><li><a href="#md:fastifyrabbitmqoptions"><span>Fastify<wbr/>RabbitMQOptions</span></a></li><li><ul><li><a href="#md:connection"><span>connection</span></a></li><li><a href="#md:namespace"><span>namespace</span></a></li></ul></li></ul></li></ul></li><li><a href="#md:acknowledgements"><span>Acknowledgements</span></a></li><li><a href="#md:license"><span>License</span></a></li></ul></div></details></div><div class="site-menu"><nav id="tsd-sidebar-links" class="tsd-navigation"><a href="https://github.com/Bugs5382/fastify-rabbitmq">View source on GitHub</a></nav><nav class="tsd-navigation"><a href="modules.html" class="current"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="assets/icons.svg#icon-1"></use></svg><span>Fastify RabbitMQ - v3.0.0</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base="."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div><script src="assets/versionsMenu.js" type="module"></script></body></html>
